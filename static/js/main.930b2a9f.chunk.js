(this.webpackJsonpopenforge_visualizer=this.webpackJsonpopenforge_visualizer||[]).push([[0],{23:function(e,n,t){e.exports=t(35)},28:function(e,n,t){},29:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(17),c=t.n(a),i=(t(28),t(1)),l=(t(29),t(11)),u=t(7),s=t(14),d=t(18);var m=function(e){var n=e.context,t=e.loader,r=e.model,o=e.onError,a=n.renderer,c=n.controls,l=n.camera,u=n.scene;t.load(window.location.href+"".concat(r,".stl"),(function(e){var n=new i.l({color:16733491,specular:100,shininess:0}),t=new i.k(e,n);t.name=r,u.add(t);var o=new i.s;e.computeBoundingBox(),e.boundingBox.getCenter(o),t.position.x=-1*o.x,t.position.y=-1*o.y,t.position.z=-1*o.z;var s=Math.max(e.boundingBox.max.x,e.boundingBox.max.y,e.boundingBox.max.z);l.position.z=2*s;!function e(){requestAnimationFrame(e),c.update(),a.render(u,l)}()}),(function(){}),(function(e){console.error(e,"An error happened"),o(!0)}))},f=function(e){var n=e.context,t=e.container,r=e.model,o=e.onError,a=n.renderer,c=n.camera;a.setSize(t.clientWidth,t.clientHeight),t.appendChild(a.domElement),window.addEventListener("resize",(function(){a.setSize(t.clientWidth,t.clientHeight),c.aspect=t.clientWidth/t.clientHeight,c.updateProjectionMatrix()}),!1);var i=new d.a;m({context:n,loader:i,model:r,onError:o})},p=t(19),E=t(20),v=Object(p.a)({},function(){var e=new i.t({antialias:!0,alpha:!0}),n=new i.m(60,1,1,1e3);n.position.x=60,n.position.y=45,n.position.z=45;var t=new E.a(n,e.domElement);return t.enableDamping=!0,t.rotateSpeed=.15,t.dampingFactor=.1,t.enableZoom=!1,t.enablePan=!1,{controls:t,renderer:e,camera:n}}(),{scene:new i.o,containerId:"stlViewer"}),b=Object(r.createContext)(v),h=v;var x=function(e){var n=Object(r.useRef)();return Object(r.useEffect)((function(){n.current=e})),n.current},g=function(e){var n=e.container,t=e.model,a=e.onError,c=Object(r.useContext)(b),i=c.renderer,l=c.containerId,u=Object(r.useRef)(null),s=x(t)||"";return Object(r.useEffect)((function(){return n&&(!function(e){var n=e.context,t=e.model,r=n.scene,o=n.renderer,a=n.controls,c=n.camera,i=r.getObjectByProperty("name",t);i&&r.remove(i);!function e(){requestAnimationFrame(e),a.update(),o.render(r,c)}()}({context:c,model:s}),f({context:c,container:n,model:t,onError:a})),function(){}}),[t,c,a,n,s]),Object(r.useEffect)((function(){u.current=document.querySelector("#stlViewer"),i.setSize(u.current.clientWidth,u.current.clientHeight),f({context:c,container:u.current,model:t,onError:a})}),[]),o.a.createElement("div",{style:{margin:"0 auto",width:"500px",height:"500px"},id:l})},w=function(){var e=Object(r.useState)("test"),n=Object(s.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(!1),i=Object(s.a)(c,2),l=i[0],u=i[1],d=document.querySelector("#stlViewer");return o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return a("test")}},"Model 1"),o.a.createElement("button",{onClick:function(){return a("test2")}},"Model 2"),o.a.createElement("button",{onClick:function(){return a("test3")}},"Model 3"),o.a.createElement(g,{container:d,onError:u,model:t}),l&&o.a.createElement("p",{style:{color:"red"}},"Error al cargar un archivo"))},j=function(){var e=Object(r.useContext)(b).scene;return e.background=new i.c("rgb(0, 0, 0)"),e.name="Escena principal",e.add(new i.g(16733491,1.5)),o.a.createElement(b.Provider,{value:h},o.a.createElement(l.a,null,o.a.createElement("p",null," Nav"),o.a.createElement("div",null,o.a.createElement(l.b,{to:"/visual"},"Prueba")),o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/"},o.a.createElement(w,null)),o.a.createElement(u.a,{path:"/"},o.a.createElement(w,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.930b2a9f.chunk.js.map